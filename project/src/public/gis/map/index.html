<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Map with Colored Points</title>
  <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no" />
  <link rel="stylesheet" href="https://js.arcgis.com/4.28/esri/themes/light/main.css" />
  <script src="https://js.arcgis.com/4.28/"></script>
  <style>
    html, body, #viewDiv {
      padding: 0;
      margin: 0;
      height: 100%;
      width: 100%;
    }
  </style>
</head>
<body>
   
  <div id="viewDiv"></div>
    <script>
    require(["esri/Map", "esri/views/MapView", "esri/Graphic"], function(Map, MapView, Graphic) {
      const map = new Map({ basemap: "hybrid" });

      const view = new MapView({
        container: "viewDiv",
        map: map,
        center: [ 107.827979, 11.522117],
        zoom: 17
      });

      let points = [];
      const orangePoints = [
        [107.808873, 11.552410],
        [107.808235, 11.552187],
        [107.807765, 11.551131],
        [107.807704, 11.550378],
        [107.807944, 11.549538],
        [107.804939, 11.543672],
        [107.809863, 11.543220],
        [107.810383, 11.542922],
        [107.810709, 11.542615],
        [107.812583, 11.539751],
        [107.813240, 11.540578],
        [107.813423, 11.541088],
        [107.813449, 11.542294],
        [107.814032, 11.543289],
        [107.821764, 11.540878],
        [107.823944, 11.547524],
        [107.824400, 11.548842],
        [107.824105, 11.549111],
        [107.823491, 11.549195],
        [107.822941, 11.549607],
        [107.823232, 11.550807],
        [107.822849, 11.551483],
        [107.822352, 11.551750],
        [107.822003, 11.551690],
        [107.821730, 11.552319],
        [107.821698, 11.553147],
        [107.821106, 11.553787],
        [107.820869, 11.555143],
        [107.819529, 11.557191],
        [107.820681, 11.558881],
        [107.821278, 11.559151],
        [107.821129, 11.559538],
        [107.821335, 11.559670],
        [107.821627, 11.560041],
        [107.821803, 11.560124],
        [107.821995, 11.560434],
        [107.821943, 11.560599],
        [107.822000, 11.560813],
        [107.821791, 11.561231],
        [107.821382, 11.561224],
        [107.820735, 11.560948],
        [107.820428, 11.560984],
        [107.820195, 11.561110],
        [107.819687, 11.561285],
        [107.819649, 11.561380],
        [107.819484, 11.561521],
        [107.819663, 11.561839],
        [107.819985, 11.561643],
        [107.820157, 11.561634],
        [107.820276, 11.561583],
        [107.820749, 11.561664],
        [107.820896, 11.561758],
        [107.820968, 11.562326],
        [107.820953, 11.562543],
        [107.820871, 11.562917],
        [107.820010, 11.564087],
        [107.819417, 11.564731],
        [107.819433, 11.565029],
        [107.819757, 11.565410],
        [107.819789, 11.565474],
        [107.819832, 11.565708],
        [107.819773, 11.566139],
        [107.819792, 11.566388],
        [107.819118, 11.567841],
        [107.819183, 11.568331],
        [107.818778, 11.569178],
        [107.817680, 11.569400],
        [107.815358, 11.568647],
        [107.814926, 11.568291],
        [107.813225, 11.568207],
        [107.811973, 11.567657],
        [107.811792, 11.568032],
        [107.809613, 11.566442],
        [107.809613, 11.565558],
        [107.809280, 11.564350],
        [107.809760, 11.563140],
        [107.809802, 11.562347],
        [107.809639, 11.560725],
        [107.808873, 11.552410],
        

      ].map((coord, idx) => ({
      id: idx + 1,
      longitude: coord[0],
      latitude: coord[1],
      colorGroup: "Phường I",
      note: "Ghi chú: Điểm thuộc Phường I"
    }));

      const greenPoints = [
        [107.809593, 11.566442],
        [107.809613, 11.566442],
        [107.809613, 11.565558],
        [107.809280, 11.564350],
        [107.809760, 11.563140],
        [107.809802, 11.562347],
        [107.809639, 11.560725],
        [107.808873, 11.552410],
        [107.808873, 11.552410],
        [107.808235, 11.552187],
        [107.807765, 11.551131],
        [107.807704, 11.550378],
        [107.807944, 11.549538],
        [107.804939, 11.543672],
        [107.803400, 11.543705],
        [107.802933, 11.543560],
        [107.797015, 11.539197],
        [107.795471, 11.538760],
        [107.795172, 11.539454],
        [107.792279, 11.541132],
        [107.790238, 11.541861],
        [107.788216, 11.544611],
        [107.786619, 11.547549],
        [107.786314, 11.549274],
        [107.786507, 11.550499],
        [107.787766, 11.552536],
        [107.787192, 11.554516],
        [107.787322, 11.556773],
        [107.786706, 11.557049],
        [107.786180, 11.557710],
        [107.786028, 11.558338],
        [107.785756, 11.558862],
        [107.785823, 11.559468],
        [107.783646, 11.560199],
        [107.783545, 11.561352],
        [107.782616, 11.563181],
        [107.781557, 11.564636],
        [107.782760, 11.567332],
        [107.781018, 11.571177],
        [107.780788, 11.571904],
        [107.781602, 11.571874],
        [107.785849, 11.567986],
        [107.789723, 11.563452],
        [107.790271, 11.564323],
        [107.790289, 11.565511],
        [107.790039, 11.567644],
        [107.790541, 11.567392],
        [107.791291, 11.566467],
        [107.792382, 11.567145],
        [107.793356, 11.567463],
        [107.795017, 11.567219],
        [107.795791, 11.566800],
        [107.796349, 11.566334],
        [107.796518, 11.568209],
        [107.796210, 11.569547],
        [107.796576, 11.569624],
        [107.797859, 11.569236],
        [107.798574, 11.568818],
        [107.799013, 11.568113],
        [107.801218, 11.567603],
        [107.802452, 11.567621],
        [107.802738, 11.567417],
        [107.805074, 11.567642],
        [107.805509, 11.566972],
        [107.805878, 11.566732],
        [107.806583, 11.566558],
        [107.807061, 11.566599],
        [107.808017, 11.567075],
        [107.808366, 11.567173],
        [107.809593, 11.566442],  
      ].map((coord, idx) => ({
        id: orangePoints.length + idx + 1,
        longitude: coord[0],
        latitude: coord[1],
        colorGroup: "Phường II"
      }));

      const bluePoints = [
        [107.780788, 11.571904],
        [107.780810, 11.573222],
        [107.781867, 11.575637],
        [107.782771, 11.578882],
        [107.782154, 11.580291],
        [107.781344, 11.580929],
        [107.776300, 11.583274],
        [107.775890, 11.583901],
        [107.776388, 11.584918],
        [107.776860, 11.585768],
        [107.776910, 11.586487],
        [107.777011, 11.586999],
        [107.777574, 11.587943],
        [107.779171, 11.588951],
        [107.779564, 11.589406],
        [107.779730, 11.590178],
        [107.779663, 11.591389],
        [107.779520, 11.592289],
        [107.779677, 11.593150],
        [107.780464, 11.593937],
        [107.781070, 11.594320],
        [107.781204, 11.594656],
        [107.781135, 11.597178],
        [107.780754, 11.597177],
        [107.779132, 11.596924],
        [107.778701, 11.596776],
        [107.778308, 11.596533],
        [107.777590, 11.595901],
        [107.775389, 11.593033],
        [107.774965, 11.592833],
        [107.773915, 11.592662],
        [107.773445, 11.592428],
        [107.772848, 11.592299],
        [107.771214, 11.592295],
        [107.769098, 11.592740],
        [107.767007, 11.593476],
        [107.766048, 11.593504],
        [107.765288, 11.593373],
        [107.764574, 11.593132],
        [107.762032, 11.592841],
        [107.760425, 11.592894],
        [107.758775, 11.593400],
        [107.757196, 11.594714],
        [107.756736, 11.595308],
        [107.756677, 11.595510],
        [107.756840, 11.595870],
        [107.756897, 11.596146],
        [107.756895, 11.596345],
        [107.756871, 11.596510],
        [107.756781, 11.596636],
        [107.754158, 11.598104],
        [107.753160, 11.598304],
        [107.752933, 11.598467],
        [107.752143, 11.599418],
        [107.751787, 11.600299],
        [107.750999, 11.601476],
        [107.750740, 11.603495],
        [107.747644, 11.606618],
        [107.747520, 11.608111],
        [107.747595, 11.610080],   
        [107.747965, 11.611403],
        [107.745630, 11.614167],
        [107.744871, 11.615382],
        [107.744762, 11.616005],
        [107.744764, 11.616229],
        [107.744672, 11.616356],
        [107.744410, 11.616504],
        [107.744322, 11.616901],
        [107.744148, 11.617284],
        [107.743805, 11.617542],
        [107.743535, 11.617607],
        [107.743223, 11.617814],
        [107.741655, 11.619106],
        [107.741485, 11.619561],
        [107.740723, 11.619942],
        [107.740262, 11.620496],
        [107.740294, 11.621464],
        [107.740182, 11.621757],
        [107.739955, 11.621990],
        [107.739852, 11.622809],
        [107.739194, 11.622990],
        [107.738647, 11.622867],
        [107.737809, 11.623227],
        [107.737300, 11.623321],
        [107.736750, 11.623281],
        [107.735405, 11.622500],
        [107.734405, 11.622440],
        [107.733505, 11.622140],
        [107.732305, 11.622140],
        [107.731120, 11.622749],
        [107.730020, 11.622810],
        [107.729007, 11.623156],
        [107.727914, 11.622897],
        [107.727047, 11.623272],
        [107.726586, 11.622432],
        [107.725606, 11.622254],
        [107.724950, 11.623306],
        [107.725048, 11.623808],
        [107.725343, 11.624097],
        [107.725270, 11.626469],
        [107.725890, 11.628082],
        [107.727600, 11.628326],
        [107.727675, 11.630015],
        [107.728490, 11.631160],
        [107.729787, 11.631229],
        [107.730280, 11.632102],
        [107.730140, 11.633102],
        [107.730440, 11.633902],
        [107.732310, 11.634580],
        [107.733310, 11.634760],
        [107.734051, 11.635835],
        [107.733722, 11.636462],
        [107.733127, 11.637018],
        [107.734401, 11.638125],
        [107.735600, 11.639976],
        [107.736237, 11.640491],
        [107.736640, 11.641457],
        [107.737530, 11.641607],
        [107.737990, 11.643158],
        [107.738553, 11.643382],
        [107.739075, 11.645105],
        [107.738025, 11.648322],
        [107.738164, 11.650762],
        [107.738816, 11.652874],
        [107.738825, 11.653781],
        [107.739798, 11.654033],
        [107.740465, 11.653752],
        [107.747415, 11.647461],
        [107.748814, 11.646734],
        [107.750525, 11.646397],
        [107.752595, 11.645914],
        [107.753444, 11.645918],
        [107.754145, 11.645455],
        [107.754516, 11.644799],
        [107.755974, 11.643823],
        [107.756885, 11.643574],
        [107.757720, 11.643075],
        [107.758503, 11.642426],
        [107.758783, 11.642319],
        [107.758252, 11.641127],
        [107.757147, 11.640082],
        [107.756784, 11.639088],
        [107.756741, 11.638319],
        [107.756998, 11.637481],
        [107.757313, 11.637132],
        [107.757645, 11.636626],
        [107.758164, 11.636274],
        [107.759052, 11.636203],
        [107.759435, 11.636025],
        [107.759880, 11.635892],
        [107.760033, 11.635391],
        [107.762391, 11.635249],
        [107.765062, 11.635775],
        [107.766023, 11.635717],
        [107.766632, 11.635001],
        [107.767220, 11.633615],
        [107.768414, 11.632081],
        [107.769795, 11.631103],
        [107.774330, 11.622905],
        [107.775080, 11.619938],
        [107.775923, 11.612406],
        [107.776788, 11.613065],
        [107.777123, 11.613190],
        [107.777739, 11.612955],
        [107.779863, 11.612701],
        [107.783097, 11.613007],
        [107.783774, 11.613225],
        [107.784628, 11.612923],
        [107.785838, 11.613047],
        [107.786377, 11.612856],
        [107.786931, 11.612350],
        [107.787992, 11.612225],
        [107.788874, 11.611524],
        [107.789060, 11.610880],
        [107.787768, 11.609495], 
        [107.787663, 11.609086],
        [107.787970, 11.608398],
        [107.789170, 11.607038],
        [107.790671, 11.606186],
        [107.794575, 11.602834],
        [107.795111, 11.602699],
        [107.797525, 11.602758],
        [107.798013, 11.602202],
        [107.800524, 11.600972],
        [107.802110, 11.600563],
        [107.802353, 11.600305],
        [107.802586, 11.600173],
        [107.804361, 11.599727],
        [107.804913, 11.599003],
        [107.806417, 11.597961],
        [107.807713, 11.597830],
        [107.807638, 11.597376],
        [107.806266, 11.595961], 
        [107.799105, 11.592430],
        [107.800683, 11.590910],
        [107.802655, 11.590614],
        [107.806173, 11.586200],
        [107.806175, 11.580841],
        [107.806746, 11.580077],
        [107.805128, 11.578584],
        [107.805657, 11.577354],
        [107.806728, 11.576213],
        [107.808294, 11.575142],
        [107.808475, 11.574074],
        [107.809138, 11.573365],
        [107.809223, 11.572624],
        [107.810083, 11.571461],
        [107.810686, 11.571077],
        [107.810191, 11.570764],
        [107.810501, 11.570049],
        [107.811316, 11.569545],
        [107.811451, 11.568929],
        [107.811015, 11.568014],
        [107.811617, 11.568365],
        [107.809593, 11.566442],
        [107.808366, 11.567173],
        [107.808017, 11.567075],
        [107.807061, 11.566599],
        [107.806583, 11.566558],
        [107.805878, 11.566732],
        [107.805509, 11.566972],
        [107.805074, 11.567642],
        [107.802738, 11.567417],
        [107.802452, 11.567621],
        [107.801218, 11.567603],
        [107.799013, 11.568113],
        [107.798574, 11.568818],
        [107.797859, 11.569236],
        [107.796576, 11.569624],
        [107.796210, 11.569547],
        [107.796518, 11.568209],
        [107.796349, 11.566334],
        [107.795791, 11.566800],
        [107.795017, 11.567219],
        [107.793356, 11.567463],
        [107.792382, 11.567145],
        [107.791291, 11.566467],
        [107.790541, 11.567392],
        [107.790039, 11.567644],
        [107.790289, 11.565511],
        [107.790271, 11.564323],
        [107.789723, 11.563452],
        [107.785849, 11.567986],
        [107.781602, 11.571874],
        [ 107.780788, 11.571904],
      ].map((coord, idx) => ({
        id: orangePoints.length + greenPoints.length + idx + 1,
        longitude: coord[0],
        latitude: coord[1],
        colorGroup: "Xã ĐamBri"
      }));

      const redPoints = [
        [107.807713, 11.59783],
        [107.809506, 11.597739],
        [107.811173, 11.598178],
        [107.811961, 11.598714],
        [107.812647, 11.599502],
        [107.814376, 11.603146],
        [107.816060, 11.603488],
        [107.818161, 11.603638],
        [107.819995, 11.603419],
        [107.820386, 11.603177],
        [107.820777, 11.602804],
        [107.821255, 11.602681],
        [107.823647, 11.602800],
        [107.823855, 11.602529], 
        [107.824483, 11.602140],
        [107.827469, 11.600943],
        [107.828306, 11.600223],
        [107.829959, 11.598398],
        [107.834161, 11.593081],
        [107.838005, 11.595033],
        [107.843234, 11.594555],
        [107.844231, 11.600244],
        [107.844244, 11.605569],
        [107.847321, 11.605621],
        [107.848728, 11.604984],
        [107.849400, 11.604476],
        [107.852366, 11.603967],
        [107.855168, 11.603957],
        [107.856189, 11.604306],
        [107.856895, 11.603215],
        [107.856929, 11.602180],
        [107.858073, 11.601956],
        [107.862649, 11.601806],
        [107.863003, 11.600209],
        [107.863778, 11.598136],
        [107.865345, 11.595867],
        [107.865881, 11.594336],
        [107.865561, 11.591608],
        [107.868176, 11.587792],
        [107.864890, 11.587023],
        [107.854714, 11.578978],
        [107.850069, 11.579006],
        [107.847035, 11.557067],
        [107.844882, 11.556768],
        [107.841372, 11.556444],
        [107.840597, 11.555843],
        [107.838284, 11.551566],
        [107.833669, 11.546201],
        [107.829470, 11.542804],
        [107.827386, 11.542939],
        [107.826837, 11.543332],
        [107.825180, 11.544349],
        [107.825094, 11.545250],
        [107.825211, 11.546528],
        [107.823944, 11.547524],
        [107.823944, 11.547524],
        [107.824400, 11.548842],
        [107.824105, 11.549111],
        [107.823491, 11.549195],
        [107.822941, 11.549607],
        [107.823232, 11.550807],
        [107.822849, 11.551483],
        [107.822352, 11.551750],
        [107.822003, 11.551690],
        [107.821730, 11.552319],
        [107.821698, 11.553147],
        [107.821106, 11.553787],
        [107.820869, 11.555143],
        [107.819529, 11.557191],
        [107.820681, 11.558881],
        [107.821278, 11.559151],
        [107.821129, 11.559538],
        [107.821335, 11.559670],
        [107.821627, 11.560041],
        [107.821803, 11.560124],
        [107.821995, 11.560434],
        [107.821943, 11.560599],
        [107.822000, 11.560813],
        [107.821791, 11.561231],
        [107.821382, 11.561224],
        [107.820735, 11.560948],
        [107.820428, 11.560984],
        [107.820195, 11.561110],
        [107.819687, 11.561285],
        [107.819649, 11.561380],
        [107.819484, 11.561521],
        [107.819663, 11.561839],
        [107.819985, 11.561643],
        [107.820157, 11.561634],
        [107.820276, 11.561583],
        [107.820749, 11.561664],
        [107.820896, 11.561758],
        [107.820968, 11.562326],
        [107.820953, 11.562543],
        [107.820871, 11.562917],
        [107.820010, 11.564087],
        [107.819417, 11.564731],
        [107.819433, 11.565029],
        [107.819757, 11.565410],
        [107.819789, 11.565474],
        [107.819832, 11.565708],
        [107.819773, 11.566139],
        [107.819792, 11.566388],
        [107.819118, 11.567841],
        [107.819183, 11.568331],
        [107.818778, 11.569178],
        [107.817680, 11.569400],
        [107.815358, 11.568647],
        [107.814926, 11.568291],
        [107.813225, 11.568207],
        [107.811973, 11.567657],
        [107.811792, 11.568032],
        [107.809613, 11.566442],
        [107.809593, 11.566442],
        [107.811617, 11.568365],
        [107.811015, 11.568014],
        [107.811451, 11.568929],
        [107.811316, 11.569545],
        [107.810501, 11.570049],
        [107.810191, 11.570764],
        [107.810686, 11.571077],
        [107.810083, 11.571461],
        [107.809223, 11.572624],
        [107.809138, 11.573365],
        [107.808475, 11.574074],
        [107.808294, 11.575142],
        [107.806728, 11.576213],
        [107.805657, 11.577354],
        [107.805128, 11.578584],
        [107.806746, 11.580077],  
        [107.806175, 11.580841],
        [107.806173, 11.586200],
        [107.802655, 11.590614],
        [107.800683, 11.590910],
        [107.799105, 11.592430],
        [107.806266, 11.595961], 
        [107.807638, 11.597376],
        [107.807713, 11.597830],
        ].map((coord, idx) => ({
        id: orangePoints.length + greenPoints.length + bluePoints.length + idx + 1,
        longitude: coord[0],
        latitude: coord[1],
        colorGroup: "Phường Lộc Phát"
      }));
      
      const purplePoints = [
        [107.829470, 11.542804],
        [107.830137, 11.542871],
        [107.830404, 11.542144],
        [107.830660, 11.541869],
        [107.831441, 11.541843],
        [107.831476, 11.541278],
        [107.831710, 11.540857],
        [107.832276, 11.540834],
        [107.832904, 11.540276],
        [107.833089, 11.539920],
        [107.833500, 11.539730],
        [107.833266, 11.539443],
        [107.832798, 11.539339],
        [107.832335, 11.539155],
        [107.832385, 11.538787],
        [107.832835, 11.538723],
        [107.833015, 11.538398],
        [107.833275, 11.537702],
        [107.833816, 11.536953],
        [107.834180, 11.536634],
        [107.834682, 11.535947],
        [107.835136, 11.532489],
        [107.8346204, 11.531166],
        [107.829900, 11.531361],
        [107.829377, 11.530352],
        [107.829333, 11.529501],
        [107.831482, 11.524299],
        [107.831432, 11.521325],
        [107.832867, 11.518851],
        [107.833702, 11.516480],
        [107.834097, 11.512421],
        [107.834819, 11.510813],
        [107.834715, 11.510323],
        [107.831673, 11.506589],
        [107.831497, 11.505387],
        [107.832004, 11.503088],
        [107.830950, 11.502689],
        [107.830319, 11.503609],
        [107.829748, 11.503556],
        [107.829319, 11.503128],
        [107.828708, 11.503468],
        [107.828637, 11.504159],
        [107.828249, 11.504435],
        [107.826541, 11.504975],
        [107.827001, 11.506549],
        [107.828100, 11.507444],
        [107.828023, 11.508422],
        [107.828710, 11.509053],
        [107.828016, 11.509591],
        [107.828152, 11.510873],
        [107.827207, 11.510496],
        [107.825689, 11.513162],
        [107.825094, 11.513248],
        [107.824989, 11.513600],
        [107.825703, 11.513457],
        [107.826034, 11.513778],
        [107.824485, 11.515226],
        [107.824690, 11.515976],
        [107.822650, 11.516414],
        [107.822353, 11.514789],
        [107.821633, 11.514937],
        [107.821690, 11.515294],
        [107.820573, 11.515744],
        [107.820425, 11.516060],
        [107.820530, 11.516440],
        [107.818255, 11.517124],
        [107.817516, 11.516756],
        [107.816309, 11.517234],
        [107.815034, 11.515858],
        [107.814083, 11.516608],
        [107.813184, 11.515828],
        [107.811787, 11.516116],
        [107.811796, 11.517216],
        [107.810513, 11.517886],
        [107.809626, 11.517747],
        [107.807824, 11.518416],
        [107.807056, 11.520303],
        [107.805448, 11.523173],
        [107.806039, 11.524861],
        [107.807752, 11.525310],
        [107.808477, 11.526772],
        [107.809778, 11.528088],
        [107.810385, 11.528080],
        [107.811409, 11.528827],
        [107.810985, 11.529840],
        [107.811112, 11.530758],
        [107.810823, 11.531766],
        [107.810142, 11.532634],
        [107.809965, 11.533652],
        [107.810807, 11.534918],
        [107.810641, 11.536809],
        [107.810516, 11.537517],
        [107.810752, 11.538093],
        [107.811461, 11.538575],
        [107.812583, 11.539751],
        [107.812583, 11.539751],
        [107.813240, 11.540578],
        [107.813423, 11.541088],
        [107.813449, 11.542294],
        [107.814032, 11.543289],
        [107.821764, 11.540878],
        [107.823944, 11.547524],
        [107.823944, 11.547524],
        [107.825211, 11.546528],
        [107.825094, 11.545250],
        [107.825180, 11.544349],
        [107.826837, 11.543332],
        [107.827386, 11.542939],
        [107.829470, 11.542804],
        ].map((coord, idx) => ({
        id: orangePoints.length + greenPoints.length + bluePoints.length + redPoints.length + idx + 1,
        longitude: coord[0],
        latitude: coord[1],
        colorGroup: "Phường Lộc Sơn"
      }));

      const yellowPoints = [
        [107.842993, 11.5056133],
        [107.843281, 11.504816],
        [107.844103, 11.504125],
        [107.844658, 11.503237],
        [107.845999, 11.502563],
        [107.846184, 11.503584],
        [107.847424, 11.504135],
        [107.849566, 11.502885],
        [107.851160, 11.503667],
        [107.852480, 11.503287],
        [107.855001, 11.505094],
        [107.857103, 11.506229],
        [107.856153, 11.508010],
        [107.856380, 11.510178],
        [107.858972, 11.509699],
        [107.858045, 11.506809],
        [107.858850, 11.505516],
        [107.864759, 11.508538],
        [107.866236, 11.508197],
        [107.866924, 11.508814],
        [107.864671, 11.510442],
        [107.864524, 11.511904],
        [107.866756, 11.514371],
        [107.869585, 11.515207],
        [107.871344, 11.514796],
        [107.870289, 11.511443],
        [107.871002, 11.509487],
        [107.873457, 11.508804],
        [107.875776, 11.510743],
        [107.877333, 11.511629],
        [107.880562, 11.515887],
        [107.881334, 11.516076],
        [107.882030, 11.516662],
        [107.883263, 11.518693],
        [107.883908, 11.520585],
        [107.883480, 11.522298],
        [107.882541, 11.522811],
        [107.881243, 11.522367],
        [107.879844, 11.522772],
        [107.879793, 11.524015],
        [107.880657, 11.526092],
        [107.880028, 11.526786],
        [107.877364, 11.526625],
        [107.876926, 11.529427],
        [107.879216, 11.528461],
        [107.880543, 11.529751],
        [107.878515, 11.531672],
        [107.877412, 11.531441],
        [107.876522, 11.531788],
        [107.878038, 11.533532],
        [107.878002, 11.534325],
        [107.877307, 11.535156],
        [107.877012, 11.536109],
        [107.875721, 11.537080],
        [107.875012, 11.536912],
        [107.874704, 11.538509], 
        [107.872422, 11.538860],
        [107.870660, 11.538423],
        [107.866859, 11.540950],
        [107.867426, 11.541908],
        [107.869945, 11.541944],
        [107.871122, 11.540769],
        [107.871987, 11.541239],
        [107.871603, 11.542232],
        [107.869325, 11.542960],
        [107.871176, 11.544907],
        [107.870898, 11.545787],
        [107.869909, 11.546181],
        [107.870080, 11.547100],
        [107.871062, 11.547049],
        [107.871752, 11.545918],
        [107.872784, 11.546132],
        [107.872798, 11.549621],
        [107.873401, 11.551248],
        [107.877620, 11.553079],
        [107.879725, 11.556910],
        [107.878705, 11.560254],
        [107.875690, 11.561189],
        [107.874061, 11.561970],
        [107.871137, 11.561506],
        [107.867396, 11.563009],
        [107.865718, 11.561687],
        [107.866533, 11.559242],
        [107.865831, 11.556923],
        [107.864071, 11.555265],
        [107.861541, 11.551401],
        [107.865267, 11.548540],
        [107.864348, 11.546861],
        [107.865616, 11.545678],
        [107.864059, 11.544422],
        [107.861937, 11.544841],
        [107.859411, 11.543852],
        [107.856378, 11.544509],
        [107.854448, 11.540999],
        [107.842091, 11.533829],
        [107.841371, 11.533537],
        [107.844031, 11.532904],
        [107.842235, 11.529615],
        [107.842741, 11.528287],
        [107.841792, 11.526861],
        [107.843222, 11.526152],
        [107.842248, 11.523089],
        [107.842607, 11.522137],
        [107.843256, 11.521962],
        [107.844024, 11.522262],
        [107.844363, 11.520946],
        [107.843755, 11.519860],
        [107.843686, 11.518814],
        [107.844470, 11.517955],
        [107.845577, 11.517587],
        [107.846848, 11.516750],
        [107.848101, 11.516280],
        [107.848095, 11.515427],
        [107.847232, 11.514767],
        [107.847209, 11.513391],
        [107.847005, 11.511113],
        [107.845845, 11.511552],
        [107.845393, 11.510296],
        [107.844269, 11.509817],
        [107.843969, 11.509119],
        [107.844042, 11.508359],
        [107.843208, 11.508260],
        [107.842477, 11.506807],
        [107.842209, 11.506313],
        [107.842993, 11.5056133],
        ].map((coord, idx) => ({
        id: orangePoints.length + greenPoints.length + bluePoints.length + redPoints.length + purplePoints.length + idx + 1,
        longitude: coord[0],
        latitude: coord[1],
        colorGroup: "Xã Lộc Nga"
      }));
       const turquoisePoints = [
         [107.878705, 11.560254],
        [107.875690, 11.561189],
        [107.874061, 11.561970],
        [107.871137, 11.561506],
        [107.867396, 11.563009],
        [107.865718, 11.561687],
        [107.866533, 11.559242],
        [107.865831, 11.556923],
        [107.864071, 11.555265],
        [107.861541, 11.551401],
        [107.865267, 11.548540],
        [107.864348, 11.546861],
        [107.865616, 11.545678],
        [107.864059, 11.544422],
        [107.861937, 11.544841],
        [107.859411, 11.543852],
        [107.856378, 11.544509],
        [107.854448, 11.540999],
        [107.842091, 11.533829],
        [107.841371, 11.533537],
        [107.838439, 11.532128],
        [107.836465, 11.531464],
        [107.8346204, 11.531166],
        [107.835136, 11.532489],
        [107.834682, 11.535947],
        [107.834180, 11.536634],
        [107.833816, 11.536953],
        [107.833275, 11.537702],
        [107.833015, 11.538398],
        [107.832835, 11.538723],
        [107.832385, 11.538787],
        [107.832335, 11.539155],
        [107.832798, 11.539339],
        [107.833266, 11.539443],
        [107.833500, 11.539730],
        [107.833089, 11.539920],
        [107.832904, 11.540276],
        [107.832276, 11.540834],
        [107.831710, 11.540857],
        [107.831476, 11.541278],
        [107.831441, 11.541843],
        [107.830660, 11.541869],
        [107.830404, 11.542144],
        [107.830137, 11.542871],
        [107.829470, 11.542804],
        [107.833669, 11.546201],
        [107.838284, 11.551566],
        [107.840597, 11.555843],
        [107.841372, 11.556444],
        [107.844882, 11.556768],
        [107.847035, 11.557067],
        [107.850069, 11.579006],
        [107.854714, 11.578978],
        [107.864890, 11.587023],
        [107.868176, 11.587792],
        [107.865561, 11.591608],
        [107.878120, 11.600309],
        [107.878434, 11.600175],
        [107.878695, 11.600213],
        [107.878883, 11.600269],
        [107.879156, 11.600476],
        [107.879606, 11.601079],
        [107.879798, 11.601426],
        [107.879776, 11.602721],
        [107.879861, 11.602953],
        [107.880072, 11.603027],
        [107.880474, 11.602823],
        [107.880842, 11.602537],
        [107.881563, 11.601822],
        [107.881768, 11.601329],
        [107.882009, 11.601035],
        [107.882314, 11.600862],
        [107.883233, 11.600528],
        [107.883670, 11.600592],
        [107.884197, 11.600820],
        [107.884336, 11.600955],
        [107.884667, 11.601997],
        [107.884987, 11.602550],
        [107.885315, 11.602815],
        [107.885530, 11.602879],
        [107.886209, 11.602766],
        [107.886676, 11.602540],
        [107.887094, 11.602408],
        [107.887918, 11.602541],
        [107.888873, 11.602364],
        [107.889074, 11.602008],
        [107.889317, 11.601359],
        [107.890476, 11.600406],
        [107.890961, 11.599809],
        [107.892357, 11.598911],
        [107.892428, 11.598700],
        [107.892214, 11.598479],
        [107.891933, 11.598406],
        [107.890505, 11.598588],
        [107.889965, 11.598078],
        [107.889529, 11.597156],
        [107.889539, 11.596668],
        [107.889657, 11.596391],
        [107.889926, 11.596049],
        [107.890208, 11.595928],
        [107.890568, 11.595923],
        [107.891115, 11.595799],
        [107.891677, 11.595546],
        [107.892259, 11.595094],
        [107.894177, 11.594239],
        [107.894296, 11.593974],
        [107.893811, 11.593476],
        [107.891662, 11.593567],
        [107.890862, 11.592735],
        [107.890198, 11.591548],
        [107.890084, 11.588895],
        [107.889649, 11.587477],
        [107.890605, 11.585982],
        [107.888724, 11.585301],
        [107.888739, 11.584351],
        [107.889347, 11.583650],
        [107.889317, 11.583070],
        [107.888982, 11.582025],
        [107.888508, 11.581284],
        [107.887230, 11.581183],
        [107.887042, 11.579423],
        [107.886893, 11.579132],
        [107.886620, 11.579052],
        [107.885765, 11.579516],
        [107.885430, 11.579487],
        [107.884987, 11.578313],
        [107.882678, 11.577709],
        [107.882583, 11.577506],
        [107.882585, 11.576582],
        [107.881506, 11.576237],
        [107.880792, 11.575857],
        [107.880132, 11.575324],
        [107.879878, 11.574832],
        [107.880303, 11.573758],
        [107.881360, 11.572588],
        [107.882275, 11.571750],
        [107.882684, 11.571040],
        [107.883342, 11.570522],
        [107.883306, 11.570249],
        [107.883088, 11.570060],
        [107.881561, 11.569802],
        [107.881243, 11.569208],
        [107.880267, 11.569288],
        [107.879949, 11.569046],
        [107.879824, 11.568417],
        [107.880067, 11.568151],
        [107.880779, 11.568045],
        [107.882064, 11.567239],
        [107.882849, 11.566849],
        [107.882826, 11.566410],
        [107.882206, 11.566177],
        [107.881260, 11.566288],
        [107.880441, 11.566156],
        [107.878434, 11.565012],
        [107.877537, 11.564074],
        [107.877723, 11.563493],
        [107.878467, 11.563056],
        [107.879354, 11.562896],
        [107.880443, 11.562384],
        [107.880606, 11.561963],
        ].map((coord, idx) => ({
         id: orangePoints.length + greenPoints.length + bluePoints.length + redPoints.length + purplePoints.length + yellowPoints.length + idx + 1,
         longitude: coord[0],
         latitude: coord[1],
         colorGroup: "Xã Lộc Thanh",
}));


        const xanhreuPoints = [
        [107.836465, 11.531464],
        [107.8346204, 11.531166],
        [107.829900, 11.531361],
        [107.829377, 11.530352],
        [107.829333, 11.529501],
        [107.831482, 11.524299],
        [107.831432, 11.521325],
        [107.832867, 11.518851],
        [107.833702, 11.516480],
        [107.834097, 11.512421],
        [107.834819, 11.510813],
        [107.834715, 11.510323],
        [107.831673, 11.506589],
        [107.831497, 11.505387],
        [107.832004, 11.503088],
        [107.832724, 11.503119],
        [107.834382, 11.504324],
        [107.834787, 11.504225],
        [107.834788, 11.503270],
        [107.835873, 11.502844],
        [107.836651, 11.505485],
        [107.837267, 11.505881],
        [107.838218, 11.505536],
        [107.840393, 11.505607],
        [107.841464, 11.506202],
        [107.842209, 11.506313],
        [107.842477, 11.506807],
        [107.843208, 11.508260],
        [107.844042, 11.508359],
        [107.843969, 11.509119],
        [107.844269, 11.509817],
        [107.845393, 11.510296],
        [107.845845, 11.511552],
        [107.847005, 11.511113],
        [107.847209, 11.513391],
        [107.847232, 11.514767],
        [107.848095, 11.515427],
        [107.848101, 11.516280],
        [107.846848, 11.516750],
        [107.845577, 11.517587],
        [107.844470, 11.517955],
        [107.843686, 11.518814],
        [107.843755, 11.519860],
        [107.844363, 11.520946],
        [107.844024, 11.522262],
        [107.843256, 11.521962],
        [107.842607, 11.522137],
        [107.842248, 11.523089],
        [107.843222, 11.526152],
        [107.841792, 11.526861],
        [107.842741, 11.528287],
        [107.842235, 11.529615],
        [107.844031, 11.532904],
        [107.841371, 11.533537],
        [107.838439, 11.532128],
        ].map((coord, idx) => ({
         id: orangePoints.length + greenPoints.length + bluePoints.length + redPoints.length + purplePoints.length + yellowPoints.length + turquoisePoints.length + idx + 1,
         longitude: coord[0],
         latitude: coord[1],
         colorGroup: "KCN Lộc Sơn",
}));

        const DD472Points = [
        [ 107.827979, 11.522117],
        [ 107.827554, 11.522126],
        [ 107.827547, 11.522684],
        [ 107.827573, 11.523084],
        [ 107.827647, 11.523729],
        [ 107.827714, 11.524081],
        [ 107.827755, 11.524443],
        [ 107.827866, 11.524875],
        [ 107.827903, 11.525287],
        [ 107.827981, 11.525797],
        [ 107.828052, 11.526126],
        [ 107.828113, 11.526634],
        [ 107.828115, 11.526955],
        [ 107.828164, 11.527504],
        [ 107.828236, 11.527975],
        [ 107.828265, 11.528538],
        [ 107.828323, 11.528996],
        [ 107.828354, 11.529399],
        [ 107.828398, 11.529853],
        [ 107.828559, 11.530488],
        [ 107.828742, 11.531066],
        [ 107.828804, 11.531490],
        [ 107.828872, 11.531958],
        [ 107.829134, 11.532247],
        [ 107.829400, 11.532398],
        [ 107.829300, 11.532601],
        [ 107.829227, 11.532840],
        [ 107.828993, 11.533409],
        [ 107.828705, 11.533821],
        [ 107.828451, 11.534049],
        [ 107.828125, 11.534268],
        [ 107.827712, 11.534585],
        [ 107.827351, 11.534847],
        [ 107.827067, 11.535062],
        [ 107.826678, 11.535326],
        [ 107.826524, 11.535425],
        [ 107.826157, 11.535568],
        [ 107.825707, 11.535634],
        [ 107.825210, 11.535578],
        [ 107.824432, 11.535365],
        [ 107.823988, 11.535214],
        [ 107.823617, 11.535087],
        [ 107.822910, 11.534851],
        [ 107.822695, 11.534992],
        [ 107.822380, 11.534905],
        [ 107.821971, 11.534762],
        [ 107.821539, 11.534622],
        [ 107.821115, 11.534472],
        [ 107.820541, 11.534289],
        [ 107.819993, 11.534083],
        [ 107.819536, 11.533965],
        [ 107.819161, 11.533887],
        [ 107.818674, 11.533962],
        [ 107.818375, 11.534129],
        [ 107.818041, 11.534458],
        [ 107.817829, 11.534770],
        [ 107.817683, 11.534960],
        [ 107.817316, 11.535486],
        [ 107.816969, 11.535986],
        [ 107.816363, 11.536656],
        [ 107.815919, 11.536954],
        [ 107.815529, 11.537234],
        [ 107.815100, 11.537529],
        [ 107.814433, 11.537978],
        [ 107.813824, 11.538450],
        [ 107.813387, 11.538827],
        [ 107.813110, 11.539138],
        [ 107.812656, 11.539843],
        [ 107.812302, 11.540381],
        [ 107.811903, 11.541018],
        [ 107.811744, 11.541271],
        [ 107.811560, 11.541822],
        [ 107.811252, 11.541980],
        [ 107.810868, 11.542579],
        [ 107.810599, 11.542875],
        [ 107.810375, 11.543090],
        [ 107.809999, 11.543305],
        [ 107.809653, 11.543384],
        [ 107.808837, 11.543438],
        [ 107.808271, 11.543499],
        [ 107.808222, 11.543928],
        [ 107.808255, 11.544457],
        [ 107.808303, 11.545113],
        [ 107.808402, 11.545748],
        [ 107.808423, 11.546249],
        [ 107.808541, 11.547181],
        [ 107.808549, 11.547851],
        [ 107.808656, 11.548455],
        [ 107.808703, 11.549080],
        [ 107.808737, 11.549466],
        [ 107.808788, 11.549808],
        [ 107.809431, 11.549791],
        [ 107.809484, 11.550023],
        [ 107.809865, 11.550472],
        [ 107.809845, 11.550949],
        [ 107.809737, 11.551584],
        [ 107.809627, 11.551868],
        [ 107.809344, 11.552317],
        [ 107.809018, 11.552569],
        [ 107.809031, 11.553038],
        [ 107.809090, 11.553620],
        [ 107.809243, 11.555184],
        [ 107.809276, 11.555820],
        [ 107.809349, 11.556540],
        [ 107.809393, 11.556877],
        [ 107.809424, 11.557654],
        [ 107.809513, 11.558497],
        [ 107.809596, 11.559514],
        [ 107.809679, 11.560509],
        [ 107.809791, 11.560857],
        [ 107.809765, 11.561315],
        [ 107.809829, 11.562007],
        [ 107.809854, 11.562484],
        [ 107.809816, 11.562952],
        [ 107.809923, 11.563127],
        [ 107.810531, 11.563187],
        [ 107.811329, 11.563252],
        [ 107.812133, 11.563347],
        [ 107.813134, 11.563456],
        [ 107.813836, 11.563529],
        [ 107.814969, 11.563612],
        [ 107.815536, 11.563611],
        [ 107.815547, 11.563325],
        [ 107.815308, 11.562142],
        [ 107.815125, 11.561209],
        [ 107.815029, 11.560653],
        [ 107.814946, 11.560305],
        [ 107.814774, 11.559553],
        [ 107.814462, 11.558323],
        [ 107.814231, 11.557537],
        [ 107.813977, 11.556765],
        [ 107.813626, 11.555522],
        [ 107.813427, 11.554863],
        [ 107.813066, 11.553711],
        [ 107.812633, 11.552364],
        [ 107.812355, 11.551505],
        [ 107.812174, 11.550893],
        [ 107.811980, 11.550238],
        [ 107.812968, 11.549970],
        [ 107.812792, 11.549465],
        [ 107.812820, 11.549143],
        [ 107.812971, 11.548829],
        [ 107.813304, 11.548710],
        [ 107.814084, 11.549021],
        [ 107.815467, 11.549607],
        [ 107.816743, 11.550130],
        [ 107.816886, 11.549771],
        [ 107.817348, 11.548870],
        [ 107.817898, 11.547739],
        [ 107.818281, 11.547212],
        [ 107.818754, 11.546629],
        [ 107.819276, 11.545952],
        [ 107.818959, 11.545067],
        [ 107.818719, 11.544462],
        [ 107.818451, 11.543564],
        [ 107.817587, 11.543844],
        [ 107.817186, 11.543986],
        [ 107.816867, 11.544098],
        [ 107.816020, 11.544367],
        [ 107.815241, 11.544607],
        [ 107.814581, 11.544811],
        [ 107.814505, 11.544294],
        [ 107.813583, 11.544479],        
        ].map((coord, idx) => ({
         id: idx + 1,
         longitude: coord[0],
         latitude: coord[1],
         colorGroup: "472",
}));
        
        const DD474Points = [
       [ 107.827979, 11.522017],
        [ 107.827454, 11.522026],
        [ 107.827447, 11.522684],
        [ 107.827473, 11.523084],
        [ 107.827547, 11.523729],
        [ 107.827614, 11.524081],
        [ 107.827655, 11.524443],
        [ 107.827766, 11.524875],
        [ 107.827803, 11.525287],
        [ 107.827881, 11.525797],
        [ 107.827952, 11.526126],
        [ 107.828013, 11.526634],
        [ 107.828015, 11.526955],
        [ 107.828064, 11.527504],
        [ 107.828136, 11.527975],
        [ 107.828165, 11.528538],
        [ 107.828223, 11.528996],
        [ 107.828254, 11.529399],
        [ 107.828298, 11.529853],
        [ 107.828459, 11.530488],
        [ 107.828642, 11.531066],
        [ 107.828704, 11.531490],
        [ 107.828772, 11.531958],
        [ 107.829034, 11.532247],
        [ 107.829300, 11.532398],
        [ 107.829200, 11.532601],
        [ 107.829127, 11.532840],
        [ 107.828893, 11.533409],
        [ 107.828605, 11.533821],
        [ 107.828125, 11.534268],
        [ 107.827712, 11.534585],
        [ 107.827351, 11.534747],
        [ 107.827067, 11.534962],
        [ 107.826678, 11.535226],
        [ 107.826524, 11.535325],
        [ 107.826157, 11.535468],
        [ 107.825707, 11.535534],
        [ 107.825210, 11.535478],
        [ 107.824432, 11.535265],
        [ 107.823988, 11.535114],
        [ 107.823617, 11.534987],
        [ 107.822910, 11.534751],
        [ 107.822380, 11.534705],
        [ 107.821971, 11.534562],
        [ 107.821539, 11.534422],
        [ 107.821115, 11.534272],
        [ 107.820541, 11.534089],
        [ 107.819993, 11.533883],
        [ 107.819536, 11.533765],
        [ 107.819161, 11.533687],
        [ 107.818674, 11.533762],
        [ 107.818275, 11.533929],
        [ 107.817941, 11.534358],
        [ 107.817729, 11.534670],
        [ 107.817583, 11.534860],
        [ 107.817216, 11.535386],
        [ 107.816869, 11.535886],
        [ 107.816263, 11.536556],
        [ 107.815819, 11.536854],
        [ 107.815429, 11.537134],
        [ 107.815000, 11.537429],
        [ 107.814333, 11.537878],
        [ 107.813624, 11.538350],
        [ 107.813187, 11.538827],
        [ 107.812910, 11.539138],
        [ 107.812456, 11.539843],
        [ 107.812102, 11.540381],
        [ 107.811703, 11.541018],
        [ 107.811544, 11.541271],
        [ 107.811360, 11.541822],
        [ 107.811052, 11.541980],
        [ 107.810668, 11.542579],
        [ 107.810399, 11.542875],
        [ 107.809999, 11.543105],
        [ 107.809653, 11.543184],
        [ 107.808837, 11.543238],
        [ 107.807828, 11.543363],
        [ 107.806871, 11.543422],
        [ 107.805663, 11.543518],
        [ 107.804764, 11.543602],
        [ 107.804807, 11.543774],
        [ 107.805063, 11.544068],
        [ 107.805445, 11.544842],
        [ 107.805764, 11.545437],
        [ 107.806102, 11.546123],
        [ 107.806578, 11.547053],
        [ 107.806931, 11.547799],
        [ 107.806854, 11.548087],
        [ 107.806462, 11.548751],
        [ 107.806075, 11.549584],
        [ 107.805923, 11.550367],
        [ 107.805648, 11.551287],
        [ 107.805552, 11.552287],
        [ 107.805784, 11.553202],
        [ 107.805946, 11.554024],
        [ 107.805797, 11.555005],
        [ 107.805634, 11.556018],
        [ 107.805683, 11.557029],
        [ 107.805729, 11.557743],
        [ 107.805807, 11.558655],
        [ 107.805899, 11.559637],
        [ 107.805980, 11.560504],
        [ 107.806163, 11.561910],
        [ 107.806167, 11.562755],
        [ 107.804770, 11.562613],
        [ 107.804244, 11.562568],
        [ 107.804132, 11.563055],
        [ 107.803960, 11.563487],
        [ 107.803275, 11.563084],
        [ 107.802737, 11.562668],
        [ 107.802163, 11.562143],
        [ 107.801686, 11.561660],
        [ 107.802079, 11.561023],
        [ 107.802526, 11.560233],
        [ 107.802594, 11.559742],
        [ 107.802491, 11.559219],
        [ 107.802092, 11.558432],
        [ 107.802388, 11.557338],
        [ 107.802581, 11.556094],
        [ 107.802063, 11.555468],
        [ 107.802437, 11.554005],
        [ 107.802312, 11.552886],
        [ 107.802258, 11.551936],
        [ 107.801605, 11.551111],
        [ 107.801959, 11.550734],
        [ 107.802104, 11.549884],
        [ 107.801954, 11.548732],
        [ 107.801949, 11.547854],
        [ 107.801123, 11.547953],
        [ 107.800484, 11.547966],
        [ 107.799824, 11.547874],
        [ 107.799160, 11.547889],
        [ 107.798174, 11.547944],
        [ 107.798147, 11.546954],
        [ 107.798102, 11.545647],
        [ 107.798070, 11.544478],
        [ 107.798458, 11.543537],
        [ 107.797455, 11.543091],
        [ 107.796372, 11.543431],
        [ 107.795325, 11.543433],
        [ 107.794050, 11.543122],
        [ 107.794186, 11.542442],
        [ 107.793132, 11.542319],
        [ 107.792113, 11.542448],
        [ 107.791016, 11.542717],
        [ 107.791116, 11.543405],
        [ 107.790155, 11.543791],
        [ 107.789234, 11.544903],
        [ 107.789884, 11.545844],
        [ 107.790181, 11.546238],
        [ 107.790420, 11.546906],
        [ 107.790606, 11.547800],
        [ 107.790784, 11.548722],
        [ 107.790921, 11.549696],
        [ 107.791142, 11.550953],
        [ 107.791371, 11.551921],
        [ 107.791494, 11.552373],
        [ 107.791171, 11.552475],
        [ 107.792692, 11.552239],
        [ 107.794149, 11.553152],
        [ 107.795520, 11.554385],
        [ 107.793820, 11.555551],
        [ 107.793592, 11.555970],
        [ 107.793225, 11.556263],
        [ 107.793097, 11.557652],
        [ 107.793400, 11.558022],
        [ 107.792576, 11.558817],
        [ 107.791649, 11.559429],
        [ 107.790531, 11.560055],
        [ 107.789832, 11.560674],
        [ 107.789241, 11.561761],
        [ 107.788654, 11.563065],
        ].map((coord, idx) => ({
         id: idx + 1,
         longitude: coord[0],
         latitude: coord[1],
         colorGroup: "474",
}));

        const DD476Points = [
        [ 107.827670, 11.522152],
        [ 107.827658, 11.523062],
        [ 107.827661, 11.523439],
        [ 107.828280, 11.523928],
        [ 107.828495, 11.524159],
        [ 107.828810, 11.525119],
        [ 107.829057, 11.525790],
        [ 107.828974, 11.526241],
        [ 107.828548, 11.526780],
        [ 107.828351, 11.527325],
        [ 107.828590, 11.528324],
        [ 107.828735, 11.528983],
        [ 107.828811, 11.529910],
        [ 107.829048, 11.530393],
        [ 107.829424, 11.530513],
        [ 107.829768, 11.531392],
        [ 107.829899, 11.531663],
        [ 107.829544, 11.532385],
        [ 107.829324, 11.533046],
        [ 107.829001, 11.533735],
        [ 107.828445, 11.534257],
        [ 107.827770, 11.534756],
        [ 107.827401, 11.535022],
        [ 107.826700, 11.535525],
        [ 107.825970, 11.535788],
        [ 107.825098, 11.535754],
        [ 107.824428, 11.535560],
        [ 107.823911, 11.535389],
        [ 107.823429, 11.535286],
        [ 107.823293, 11.535463],
        [ 107.823259, 11.536614],
        [ 107.823261, 11.537725],
        [ 107.823259, 11.538544],
        [ 107.823259, 11.539500],
        [ 107.823313, 11.539904],
        [ 107.823535, 11.540306],
        [ 107.823669, 11.540447],
        [ 107.824141, 11.540635],
        [ 107.825240, 11.540729],
        [ 107.826459, 11.540836],
        [ 107.826857, 11.541310],
        [ 107.827058, 11.542714],
        [ 107.827102, 11.543374],
        [ 107.826901, 11.543793],
        [ 107.826491, 11.544334],
        [ 107.826475, 11.544841],
        [ 107.826732, 11.545437],
        [ 107.827759, 11.545530],
        [ 107.828769, 11.545528],
        [ 107.829808, 11.545499],
        [ 107.829835, 11.546185],
        [ 107.829847, 11.546949],
        [ 107.829836, 11.547893],
        [ 107.829850, 11.548769],
        [ 107.829836, 11.549208],
        [ 107.828862, 11.549223],
        [ 107.827825, 11.549239],
        [ 107.826920, 11.549259],
        [ 107.826406, 11.549337],
        [ 107.825236, 11.549799],
        [ 107.824779, 11.550004],
        [ 107.825033, 11.550769],
        [ 107.825254, 11.551494],
        [ 107.825541, 11.552398],
        [ 107.825825, 11.553381],
        [ 107.826111, 11.554221],
        [ 107.826409, 11.555196],
        [ 107.826460, 11.556427],
        [ 107.826468, 11.557479],
        [ 107.826471, 11.558077],
        [ 107.827756, 11.558072],
        [ 107.827790, 11.558671],
        [ 107.827806, 11.559332],
        [ 107.827802, 11.560497],
        [ 107.826491, 11.560508],
        [ 107.825590, 11.560557],
        [ 107.825711, 11.561682],
        [ 107.825302, 11.562571],
        [ 107.824254, 11.564180],
        [ 107.823489, 11.565456],
        [ 107.822740, 11.566902],
        [ 107.821746, 11.568343],
        [ 107.821572, 11.569272],
        [ 107.822816, 11.569770],
        [ 107.824153, 11.570176],
        [ 107.825475, 11.570615],
        [ 107.828087, 11.571327],
        [ 107.829932, 11.571766],
        [ 107.831917, 11.572285],
        [ 107.832005, 11.572169],
        [ 107.830936, 11.571320],
        [ 107.830109, 11.570651],
        [ 107.829892, 11.570233],
        [ 107.829976, 11.569756],
        [ 107.830580, 11.568985],
        [ 107.831481, 11.567916],
        [ 107.832250, 11.566999],
        [ 107.832803, 11.566307],
        [ 107.833206, 11.565540],
        [ 107.833607, 11.564451],
        [ 107.834104, 11.563059],
        [ 107.834226, 11.562575],
        [ 107.834207, 11.561260],
        [ 107.834201, 11.559359],
        [ 107.834159, 11.557355],
        [ 107.834148, 11.554216],
        [ 107.834143, 11.553624],
        [ 107.835712, 11.554355],
        [ 107.838043, 11.555599],
        [ 107.839764, 11.556822],
        [ 107.840014, 11.558597],
        [ 107.840111, 11.560203],
        [ 107.839123, 11.562306],
        [ 107.837934, 11.564599],
        [ 107.837427, 11.565754],
        [ 107.837542, 11.568463],
        [ 107.837599, 11.570908],
        [ 107.837839, 11.571354],
        [ 107.839941, 11.573079],
        [ 107.841831, 11.574607],
        [ 107.842612, 11.575435],
        [ 107.842497, 11.576280],
        [ 107.841030, 11.577076],
        [ 107.839985, 11.577675],
        [ 107.839856, 11.578507],
        [ 107.840899, 11.579587],
        [ 107.842945, 11.581369],
        [ 107.843923, 11.582285],
        [ 107.845250, 11.584416],
        [ 107.845317, 11.586408],
        [ 107.845293, 11.586917],
        [ 107.844347, 11.588668],
        [ 107.843381, 11.590534],
        [ 107.842878, 11.591675],
        [ 107.843051, 11.593793],
        [ 107.843479, 11.596245],
        [ 107.843954, 11.598890],
        [ 107.844215, 11.600832],
        [ 107.844235, 11.603946],
        [ 107.844166, 11.605646],



        
        ].map((coord, idx) => ({
         id:idx + 1,
         longitude: coord[0],
         latitude: coord[1],
         colorGroup: "476",
}));

        const DD478Points = [
         [ 107.827998, 11.521928],
[ 107.827988, 11.521418],
[ 107.829395, 11.521330],
[ 107.830445, 11.521271],
[ 107.831350, 11.521235],
[ 107.831429, 11.522464],
[ 107.831479, 11.523676],
[ 107.831457, 11.524236],
[ 107.831066, 11.525210],
[ 107.830622, 11.526224],
[ 107.830094, 11.527452],
[ 107.829639, 11.528530],
[ 107.829321, 11.529447],
[ 107.829373, 11.530326],
[ 107.829573, 11.530576],
[ 107.830079, 11.531415],
[ 107.830685, 11.531052],
[ 107.832221, 11.530561],
[ 107.834129, 11.529954],
[ 107.835481, 11.529546],
[ 107.837286, 11.529697],
[ 107.838966, 11.529964],
[ 107.840700, 11.530182],
[ 107.843062, 11.529993],
[ 107.844362, 11.529865],
[ 107.846836, 11.530307],
[ 107.848480, 11.531286],
[ 107.850163, 11.532126],
[ 107.851829, 11.532526],
[ 107.853163, 11.533469],
[ 107.854294, 11.534291],
[ 107.854750, 11.534412],
[ 107.855715, 11.534598],
[ 107.857030, 11.534813],
[ 107.857954, 11.534328],
[ 107.858662, 11.533020],
[ 107.859191, 11.532448],
[ 107.860245, 11.532123],
[ 107.863301, 11.531455],
[ 107.865519, 11.531321],
[ 107.868144, 11.531219],
[ 107.869238, 11.531296],
[ 107.870440, 11.532029],
[ 107.871448, 11.532671],
[ 107.872896, 11.532929],
[ 107.873256, 11.532521],
[ 107.873354, 11.530930],
[ 107.873438, 11.529373],
[ 107.873481, 11.527666],
[ 107.873563, 11.526399],
[ 107.873566, 11.524714],
[ 107.873123, 11.523422],
[ 107.872191, 11.522359],
[ 107.870082, 11.520858],
[ 107.868296, 11.519601],
[ 107.866888, 11.518795],
[ 107.864526, 11.518033],
[ 107.862463, 11.517359],
[ 107.860862, 11.516542],
[ 107.860116, 11.517250],
[ 107.859789, 11.518473],
[ 107.859239, 11.519978],
[ 107.858843, 11.520990],
[ 107.858492, 11.521981],
[ 107.858875, 11.522785],
[ 107.859531, 11.523672],
[ 107.860166, 11.524553],
[ 107.859410, 11.525015],
[ 107.859327, 11.525485],
[ 107.859459, 11.526204],
[ 107.858067, 11.526609],
[ 107.858185, 11.528028],
[ 107.857913, 11.528740],
[ 107.857714, 11.529366],
[ 107.857609, 11.529973],
[ 107.857225, 11.530723],


        
        ].map((coord, idx) => ({
         id: idx + 1,
         longitude: coord[0],
         latitude: coord[1],
         colorGroup: "478",
}));

        const DD480Points = [
        [ 107.827882, 11.522124],
        [ 107.827854, 11.521679],
        [ 107.827889, 11.521279],
        [ 107.828967, 11.521237],
        [ 107.829856, 11.521196],
        [ 107.830532, 11.521138],
        [ 107.831387, 11.521070],
        [ 107.831555, 11.521344],
        [ 107.831504, 11.521583],
        [ 107.831535, 11.522246],
        [ 107.833126, 11.522332],
        [ 107.833096, 11.523563],
        [ 107.833131, 11.524532],
        [ 107.833537, 11.525355],
        [ 107.833836, 11.526297],
        [ 107.833543, 11.528119],
        [ 107.833557, 11.530002],
        [ 107.835481, 11.529356],
        [ 107.836420, 11.529469],
        [ 107.836719, 11.528503],
        [ 107.836807, 11.527292],
        [ 107.836774, 11.526646],
        [ 107.836446, 11.525808],
        [ 107.836292, 11.524680],
        [ 107.836610, 11.523507],
        [ 107.837016, 11.522011],
        [ 107.837483, 11.520561],
        [ 107.837991, 11.518641],
        [ 107.839209, 11.514370],
        [ 107.840132, 11.511449],
        [ 107.841356, 11.509979],
        [ 107.841275, 11.509069],
        [ 107.839761, 11.508423],
        [ 107.837752, 11.508048],
        [ 107.834532, 11.506604],
        [ 107.832651, 11.505844],


        
        ].map((coord, idx) => ({
         id: idx + 1,
         longitude: coord[0],
         latitude: coord[1],
         colorGroup: "480",
         
}));
        
        
        

      points = [
        ...orangePoints,
        ...greenPoints,
        ...bluePoints,
        ...redPoints,
        ...purplePoints,
        ...yellowPoints,
        ...turquoisePoints,
        ...xanhreuPoints,
        ...DD472Points,
        ...DD474Points,
        ...DD476Points,
        ...DD478Points,
        ...DD480Points
      ];


      
      const markerSymbols = {
        "Phường I": {
          type: "simple-marker",
          color: [226, 119, 40, 0.15],
          size: 2,
          outline: { color: [226, 119, 40], width: 0.1 }
        },
        "Phường II": {
          type: "simple-marker",
          color: [34, 197, 94, 0.15],
          size: 2,
          outline: { color: [34, 197, 94], width: 0.1 }
        },
        "Xã ĐamBri": {
          type: "simple-marker",
          color: [0, 122, 255, 0.15],
          size: 2,
          outline: { color: [0, 122, 255], width: 0.1 }
        },
        "Phường Lộc Phát": {
          type: "simple-marker",
          color: [255, 0, 0, 0.1],
          size: 2,
          outline: { color: [255, 0, 0], width: 0.1 }
        },
        "Phường Lộc Sơn": {
          type: "simple-marker",
          color: [128, 0, 128, 0.15],
          size: 2,
          outline: { color: [128, 0, 128], width: 0.1 }
        },
        "Xã Lộc Nga": {
          type: "simple-marker",
          color: [255, 245, 200, 0.15],
          size: 2,
          outline: { color: [255, 245, 20], width: 0.1 }
        },
        "Xã Lộc Thanh": {
          type: "simple-marker",
          color: [119, 221, 119, 0.15],
          size: 2,
          outline: { color: [119, 221, 119], width: 0.1 }
        },
        "KCN Lộc Sơn": {
          type: "simple-marker",
          color: [105, 105, 105, 0.3],
          size: 2,
          outline: { color: [105, 105, 105], width: 0.1 }
        },
        
        "472": {
          type: "simple-marker",
          color: [204, 204, 0, 0.5],
          size: 7,
          outline: { color: [204, 204, 0], width: 1 }
        },
        
        "474": {
          type: "simple-marker",
          color: [0, 0, 139, 0.5],
          size: 7,
          outline: { color: [0, 0, 139], width: 1 }
        },
        
        "476": {
          type: "simple-marker",
          color: [0, 139, 139, 1],
          size: 7,
          outline: { color: [75, 0, 130], width: 1 }
        },
        
        "478": {
          type: "simple-marker",
          color: [120, 60, 20, 1],
          size: 7,
          outline: { color: [120, 60, 20], width: 1 }
        },
        "480": {
          type: "simple-marker",
          color: [139, 0, 0, 1],
          size: 7,
          outline: { color: [139, 0, 0], width: 1 }
        },
      };

  function addPointsToMap() {
    const graphics = points.map(p => new Graphic({
      geometry: {
        type: "point",
        longitude: p.longitude,
        latitude: p.latitude
      },
      symbol: markerSymbols[p.colorGroup] || markerSymbols["Phường I"],
      attributes: {
        id: p.id,
        group: p.colorGroup,
        note: p.note,
        longitude: p.longitude,
        latitude: p.latitude
      },
      popupTemplate: {
        title: "Trụ Điện",
        content: `
            <b>Trụ:</b> {group} / {id}<br>
          <b>Đường Dây:</b> {group}<br>
          <b>Longitude:</b> {longitude}<br>
          <b>Latitude:</b> {latitude}<br>
          <b>Đang Vận Hành</b> {note}
        `
      }
    }));
    

      view.graphics.removeAll();
      view.graphics.addMany(graphics);
    }
    view.when(() => {
      addPointsToMap();
      addLinesToMap();
      addPolygonsToMap();

     
      
        const imagePoints = [
        { "coord": [107.827554, 11.522126], "note": "Tên Trạm: 472/8A/1\n Công Suất: 50kVA\n Địa chỉ: 8A Lộc Sơn\n Tình trạng: Đang vận hành" },
        { "coord": [107.827714, 11.524081], "note": "Tên Trạm: 472/24/1\n Công Suất: 250kVA\n Địa chỉ: 24 Lộc Sơn\n Tình trạng: Đang vận hành" },
        { "coord": [107.828113, 11.526634], "note": "Tên Trạm: 472/23/1\n Công Suất: 320kVA\n Địa chỉ: 23/1 Lộc Sơn\n Tình trạng: Đang vận hành" },
        { "coord": [107.828354, 11.529399], "note": "Tên Trạm: 472/32/1\n Công Suất: 400kVA\n Địa chỉ: 01 Lộc Sơn\n Tình trạng: Đang vận hành" },
        { "coord": [107.828804, 11.531490], "note": "Tên Trạm: 472/40/1\n Công Suất: 160kVA\n Địa chỉ: 40/3 Lộc Sơn\n Tình trạng: Đang vận hành" },
        { "coord": [107.828993, 11.533409], "note": "Tên Trạm: 472/40/2\n Công Suất: 320kVA\n Địa chỉ: 40/7 Trần Phú\n Tình trạng: Đang vận hành" },
        { "coord": [107.827712, 11.534585], "note": "Tên Trạm: 472/41/1\n Công Suất: 160kVA\n Địa chỉ: 41 Trần Phú\n Tình trạng: Đang vận hành" },
        { "coord": [107.826157, 11.535568], "note": "Tên Trạm: 472/47A/1\n Công Suất: 37.5kVA\n Địa chỉ: 47 Trần Phú\n Tình trạng: Đang vận hành" },
        { "coord": [107.823988, 11.535214], "note": "Tên Trạm: 472/52/1\n Công Suất: 320kVA\n Địa chỉ: 52/1 Trần Phú\n Tình trạng: Đang vận hành" },
        { "coord": [107.821971, 11.534762], "note": "Tên Trạm: 472/55/1\n Công Suất: 320kVA\n Địa chỉ: 21 Trần Phú\n Tình trạng: Đang vận hành" },
        { "coord": [107.819993, 11.534083], "note": "Tên Trạm: 472/55/2\n Công Suất: 160kVA\n Địa chỉ: 55 Trần Phú\n Tình trạng: Đang vận hành" },
        { "coord": [107.818674, 11.533962], "note": "Tên Trạm: 472/55/3\n Công Suất: 3200kVA\n Địa chỉ: 90 Trần Phú\n Tình trạng: Đang vận hành" },
        { "coord": [107.817683, 11.534960], "note": "Tên Trạm: 472/63/1\n Công Suất: 320kVA\n Địa chỉ: 61 Trần Phú\n Tình trạng: Đang vận hành" },
        { "coord": [107.815919, 11.536954], "note": "Tên Trạm: 472/65/1\n Công Suất: 630kVA\n Địa chỉ: 67 Trần Phú\n Tình trạng: Đang vận hành" },
        { "coord": [107.813110, 11.539138], "note": "Tên Trạm: 472/65/2\n Công Suất: 250kVA\n Địa chỉ: 65/10 Trần Phú\n Tình trạng: Đang vận hành" },
        { "coord": [107.811560, 11.541822], "note": "Tên Trạm: 472/65/3\n Công Suất: 320kVA\n Địa chỉ: 65/19 Trần Phú\n Tình trạng: Đang vận hành" },
        { "coord": [107.808837, 11.543438], "note": "Tên Trạm: 472/65/4\n Công Suất: 50kVA\n Địa chỉ: 71 Trần Phú\n Tình trạng: Đang vận hành" },
        { "coord": [107.808303, 11.545113], "note": "Tên Trạm: 472/65/5\n Công Suất: 320kVA\n Địa chỉ: 03 28/3\n Tình trạng: Đang vận hành" },
        { "coord": [107.808656, 11.548455], "note": "Tên Trạm: 472/70/1\n Công Suất: 320kVA\n Địa chỉ: 07 28/3\n Tình trạng: Đang vận hành" },
        { "coord": [107.809865, 11.550472], "note": "Tên Trạm: 472/71/1\n Công Suất: 160kVA\n Địa chỉ: 01 Hồng Bàng\n Tình trạng: Đang vận hành" },
        { "coord": [107.809344, 11.552317], "note": "Tên Trạm: 472/72B/1\n Công Suất: 3200kVA\n Địa chỉ: 21 Hồng Bàng\n Tình trạng: Đang vận hành" },
        { "coord": [107.809349, 11.556540], "note": "Tên Trạm: 472/73/2\n Công Suất: 320kVA\n Địa chỉ: 26 Đinh Tiên Hoàng\n Tình trạng: Đang vận hành" },
        { "coord": [107.809679, 11.560509], "note": "Tên Trạm: 472/74A/1\n Công Suất: 320kVA\n Địa chỉ: 78 Đinh Tiên Hoàng\n Tình trạng: Đang vận hành" },
        { "coord": [107.809829, 11.562007], "note": "Tên Trạm: 472/75/1\n Công Suất: 160kVA\n Địa chỉ: 90 Đinh Tiên Hoàng\n Tình trạng: Đang vận hành" },
        { "coord": [107.811329, 11.563252], "note": "Tên Trạm: 472/76/2\n Công Suất: 160kVA\n Địa chỉ: 60 Chu Văn An\n Tình trạng: Đang vận hành" },
        { "coord": [107.815536, 11.563611], "note": "Tên Trạm: 472/77/1\n Công Suất: 320kVA\n Địa chỉ: 82 Chu Văn An\n Tình trạng: Đang vận hành" },
        { "coord": [107.815029, 11.560653], "note": "Tên Trạm: 472/78/3\n Công Suất: 160kVA\n Địa chỉ: 35 Bùi Thị Xuân\n Tình trạng: Đang vận hành" },
        { "coord": [107.814231, 11.557537], "note": "Tên Trạm: 472/79B/1\n Công Suất: 37.5kVA\n Địa chỉ: 71 Bùi Thị Xuân\n Tình trạng: Đang vận hành" },
        { "coord": [107.812633, 11.552364], "note": "Tên Trạm: 472/80/1\n Công Suất: 160kVA\n Địa chỉ: 97 Bùi Thị Xuân\n Tình trạng: Đang vận hành" },
        { "coord": [107.812968, 11.549970], "note": "Tên Trạm: 472/81/2\n Công Suất: 320kVA\n Địa chỉ: 111 Hồ Tùng Mậu\n Tình trạng: Đang vận hành" },
        { "coord": [107.814084, 11.549021], "note": "Tên Trạm: 472/82/1\n Công Suất: 160kVA\n Địa chỉ: 44 Nguyễn Công Trứ\n Tình trạng: Đang vận hành" },
        { "coord": [107.817898, 11.547739], "note": "Tên Trạm: 472/83A/1\n Công Suất: 37.5kVA\n Địa chỉ: 79 Hoàng Văn Thụ\n Tình trạng: Đang vận hành" },
        { "coord": [107.818959, 11.545067], "note": "Tên Trạm: 472/84/2\n Công Suất: 320kVA\n Địa chỉ: 87/15 Hoàng Văn Thụ\n Tình trạng: Đang vận hành" },
        { "coord": [107.817587, 11.543844], "note": "Tên Trạm: 472/85/1\n Công Suất: 320kVA\n Địa chỉ: 41/22 Lương Thế Vinh\n Tình trạng: Đang vận hành" },
        { "coord": [107.815241, 11.544607], "note": "Tên Trạm: 472/86/1\n Công Suất: 3200kVA\n Địa chỉ: 41/29 Lương Thế Vinh\n Tình trạng: Đang vận hành" },
        { "coord": [107.804807, 11.543774], "note": "Tên Trạm: 474/1/1\n Công Suất: 50kVA\n Địa chỉ: 02 Lý Tự Trọng\n Tình trạng: Đang vận hành" },
        { "coord": [107.806102, 11.546123], "note": "Tên Trạm: 474/2/1\n Công Suất: 250kVA\n Địa chỉ: 24 Lý Tự Trọng\n Tình trạng: Đang vận hành" },
        { "coord": [107.805923, 11.550367], "note": "Tên Trạm: 474/3/1\n Công Suất: 320kVA\n Địa chỉ: 02 Nguyễn Công Trứ\n Tình trạng: Đang vận hành" },
        { "coord": [107.805797, 11.555005], "note": "Tên Trạm: 474/4/1\n Công Suất: 400kVA\n Địa chỉ: 44 Nguyễn Công Trứ\n Tình trạng: Đang vận hành" },
        { "coord": [107.805899, 11.559637], "note": "Tên Trạm: 474/5/1\n Công Suất: 160kVA\n Địa chỉ: 68 Nguyễn Công Trứ\n Tình trạng: Đang vận hành" },
        { "coord": [107.804132, 11.563055], "note": "Tên Trạm: 474/6/1\n Công Suất: 320kVA\n Địa chỉ: 80 Nguyễn Công Trứ\n Tình trạng: Đang vận hành" },
        { "coord": [107.802737, 11.562668], "note": "Tên Trạm: 474/7/1\n Công Suất: 50kVA\n Địa chỉ: 15/3 Nguyễn Chí Thanh\n Tình trạng: Đang vận hành" },
        { "coord": [107.802526, 11.560233], "note": "Tên Trạm: 474/8/1\n Công Suất: 320kVA\n Địa chỉ: 25 Nguyễn Chí Thanh\n Tình trạng: Đang vận hành" },
        { "coord": [107.802063, 11.555468], "note": "Tên Trạm: 474/9/1\n Công Suất: 320kVA\n Địa chỉ: 55 Tây Sơn\n Tình trạng: Đang vận hành" },
        { "coord": [107.802258, 11.551936], "note": "Tên Trạm: 474/10/1\n Công Suất: 160kVA\n Địa chỉ: 01 Tây Sơn\n Tình trạng: Đang vận hành" },
        { "coord": [107.799824, 11.547874], "note": "Tên Trạm: 474/11/1\n Công Suất: 3200kVA\n Địa chỉ: 112 Nguyễn Khuyến\n Tình trạng: Đang vận hành" },
        { "coord": [107.798102, 11.545647], "note": "Tên Trạm: 474/12/1\n Công Suất: 3200kVA\n Địa chỉ: 20 Huỳnh Thúc Kháng\n Tình trạng: Đang vận hành" },
        { "coord": [107.794050, 11.543122], "note": "Tên Trạm: 474/13/1\n Công Suất: 50kVA\n Địa chỉ: 20/12 Huỳnh Thúc Kháng\n Tình trạng: Đang vận hành" },
        { "coord": [107.792113, 11.542448], "note": "Tên Trạm: 474/14/1\n Công Suất: 320kVA\n Địa chỉ: 50 Lê Quý Đôn\n Tình trạng: Đang vận hành" },
        { "coord": [107.789234, 11.544903], "note": "Tên Trạm: 474/15/1\n Công Suất: 320kVA\n Địa chỉ: 190/40 Phan Đình Phùng\n Tình trạng: Đang vận hành" },
        { "coord": [107.790606, 11.547800], "note": "Tên Trạm: 474/16/1\n Công Suất: 160kVA\n Địa chỉ: 190/24 Phan Đình Phùng\n Tình trạng: Đang vận hành" },
        { "coord": [107.791371, 11.551921], "note": "Tên Trạm: 474/17/1\n Công Suất: 3200kVA\n Địa chỉ: 190/02 Phan Đình Phùng\n Tình trạng: Đang vận hành" },
        { "coord": [107.794149, 11.553152], "note": "Tên Trạm: 474/18/1\n Công Suất: 320kVA\n Địa chỉ: 100 Phan Đình Phùng\n Tình trạng: Đang vận hành" },
        { "coord": [107.793225, 11.556263], "note": "Tên Trạm: 474/19/1\n Công Suất: 320kVA\n Địa chỉ: 160/10 Phan Đình Phùng\n Tình trạng: Đang vận hành" },
        { "coord": [107.789832, 11.560674], "note": "Tên Trạm: 474/20/1\n Công Suất: 160kVA\n Địa chỉ: 160/50 Phan Đình Phùng\n Tình trạng: Đang vận hành" },
        { "coord": [107.831535, 11.522246], "note": "Tên Trạm: 480/2/1\n Công Suất: 450kVA\n Địa chỉ: 22 Trần Hưng Đạo\n Tình trạng: Đang vận hành" },
        { "coord": [107.833126, 11.522332], "note": "Tên Trạm: 480/8/1\n Công Suất: 3200kVA\n Địa chỉ: 22/4 Trần Hưng Đạo\n Tình trạng: Đang vận hành" },
        { "coord": [107.833131, 11.524532], "note": "Tên Trạm: 480/10/1\n Công Suất: 320kVA\n Địa chỉ: 22/8 Trần Hưng Đạo\n Tình trạng: Đang vận hành" },
        { "coord": [107.833836, 11.526297], "note": "Tên Trạm: 480/18/1\n Công Suất: 400kVA\n Địa chỉ: 22/16 Trần Hưng Đạo\n Tình trạng: Đang vận hành" },
        { "coord": [107.833557, 11.530002], "note": "Tên Trạm: 480/21/1\n Công Suất: 3200kVA\n Địa chỉ: 220 Trần Phú\n Tình trạng: Đang vận hành" },
        { "coord": [107.836807, 11.527292], "note": "Tên Trạm: 480/29/2\n Công Suất: 320kVA\n Địa chỉ: 230 Trần Phú\n Tình trạng: Đang vận hành" },
        { "coord": [107.836446, 11.525808], "note": "Tên Trạm: 480/30/1\n Công Suất: 450kVA\n Địa chỉ: 03 Khu Công Nghiệp\n Tình trạng: Đang vận hành" },
        { "coord": [107.836610, 11.523507], "note": "Tên Trạm: 480/32/1\n Công Suất: 320kVA\n Địa chỉ: 07 Khu Công Nghiệp\n Tình trạng: Đang vận hành" },
        { "coord": [107.837016, 11.522011], "note": "Tên Trạm: 480/33/1\n Công Suất: 320kVA\n Địa chỉ: 11 Khu Công Nghiệp\n Tình trạng: Đang vận hành" },
        { "coord": [107.837483, 11.520561], "note": "Tên Trạm: 480/37/1\n Công Suất: 1600kVA\n Địa chỉ: 17 Khu Công Nghiệp\n Tình trạng: Đang vận hành" },
        { "coord": [107.837991, 11.518641], "note": "Tên Trạm: 480/40/2\n Công Suất: 3200kVA\n Địa chỉ: 21 Khu Công Nghiệp\n Tình trạng: Đang vận hành" },
        { "coord": [107.839209, 11.514370], "note": "Tên Trạm: 480/54/3\n Công Suất: 3200kVA\n Địa chỉ: 25 Khu Công Nghiệp\n Tình trạng: Đang vận hành" },
        { "coord": [107.840132, 11.511449], "note": "Tên Trạm: 480/60/1\n Công Suất: 450kVA\n Địa chỉ: 31 Khu Công Nghiệp\n Tình trạng: Đang vận hành" },
        { "coord": [107.841275, 11.509069], "note": "Tên Trạm: 480/68/1\n Công Suất: 320kVA\n Địa chỉ: 51 Khu Công Nghiệp\n Tình trạng: Đang vận hành" },
        { "coord": [107.837752, 11.508048], "note": "Tên Trạm: 480/70/2\n Công Suất: 320kVA\n Địa chỉ: 77 Khu Công Nghiệp\n Tình trạng: Đang vận hành" },
        { "coord": [107.823261, 11.537725], "note": "Tên Trạm: 476/12/2 \n Công Suất: 320kVA \n Địa chỉ: 15 Nguyễn Văn Cừ \n Tình trạng: Đang vận hành" },
        { "coord": [107.823535, 11.540306], "note": "Tên Trạm: 476/16/1 \n Công Suất: 450kVA \n Địa chỉ: 41 Nguyễn Văn Cừ \n Tình trạng: Đang vận hành" },
        { "coord": [107.827058, 11.542714], "note": "Tên Trạm: 476/20/1 \n Công Suất: 320kVA \n Địa chỉ: 77 Nguyễn Văn Cừ \n Tình trạng: Đang vận hành" },
        { "coord": [107.826732, 11.545437], "note": "Tên Trạm: 476/24/1 \n Công Suất: 320kVA \n Địa chỉ: 101 Nguyễn Văn Cừ \n Tình trạng: Đang vận hành" },
        { "coord": [107.829836, 11.549208], "note": "Tên Trạm: 476/30/1 \n Công Suất: 1600kVA \n Địa chỉ: 30 Nguyễn Đức Cảnh \n Tình trạng: Đang vận hành" },
        { "coord": [107.825254, 11.551494], "note": "Tên Trạm: 476/30/2 \n Công Suất: 3200kVA \n Địa chỉ: 105 Phạm Ngọc Thạch \n Tình trạng: Đang vận hành" },
        { "coord": [107.826471, 11.558077], "note": "Tên Trạm: 476/32/1 \n Công Suất: 3200kVA \n Địa chỉ: 01 Phạm Ngọc Thạch \n Tình trạng: Đang vận hành" },
        { "coord": [107.825590, 11.560557], "note": "Tên Trạm: 476/32/2 \n Công Suất: 450kVA \n Địa chỉ: 80 Lý Thường Kiệt \n Tình trạng: Đang vận hành" },
        { "coord": [107.821572, 11.569272], "note": "Tên Trạm: 476/40/1 \n Công Suất: 320kVA \n Địa chỉ: 98 Lý Thường Kiệt \n Tình trạng: Đang vận hành" },
        { "coord": [107.830936, 11.571320], "note": "Tên Trạm: 476/41/2 \n Công Suất: 320kVA \n Địa chỉ: 05 Nguyễn Đình Chiểu \n Tình trạng: Đang vận hành" },
        { "coord": [107.833607, 11.564451], "note": "Tên Trạm: 476/42/1 \n Công Suất: 320kVA \n Địa chỉ: 41 Nguyễn Đình Chiểu \n Tình trạng: Đang vận hành" },
        { "coord": [107.834159, 11.557355], "note": "Tên Trạm: 476/44/2 \n Công Suất: 320kVA \n Địa chỉ: 77 Nguyễn Đình Chiểu \n Tình trạng: Đang vận hành" },
        { "coord": [107.838043, 11.555599], "note": "Tên Trạm: 476/49/1 \n Công Suất: 1600kVA \n Địa chỉ: 93 Nguyễn Đình Chiểu \n Tình trạng: Đang vận hành" },
        { "coord": [107.839123, 11.562306], "note": "Tên Trạm: 476/50/3 \n Công Suất: 320kVA \n Địa chỉ: 201 Nguyễn Văn Cừ \n Tình trạng: Đang vận hành" },
        { "coord": [107.839941, 11.573079], "note": "Tên Trạm: 476/52/1 \n Công Suất: 320kVA \n Địa chỉ: 215 Nguyễn Văn Cừ \n Tình trạng: Đang vận hành" },
        { "coord": [107.842497, 11.576280], "note": "Tên Trạm: 476/54/2 \n Công Suất: 1600kVA \n Địa chỉ: 271 Nguyễn Văn Cừ \n Tình trạng: Đang vận hành" },
        { "coord": [107.842945, 11.581369], "note": "Tên Trạm: 476/57/1 \n Công Suất: 3200kVA \n Địa chỉ: 283 Nguyễn Văn Cừ \n Tình trạng: Đang vận hành" },
        { "coord": [107.845317, 11.586408], "note": "Tên Trạm: 476/57/4 \n Công Suất: 3200kVA \n Địa chỉ: 305 Nguyễn Văn Cừ \n Tình trạng: Đang vận hành" },
        { "coord": [107.843479, 11.596245], "note": "Tên Trạm: 476/59/1 \n Công Suất: 320kVA \n Địa chỉ: 307 Nguyễn Văn Cừ \n Tình trạng: Đang vận hành" },
        { "coord": [107.837599, 11.570908], "note": "Tên Trạm: 476/60/6 \n Công Suất: 320kVA \n Địa chỉ: 319 Nguyễn Văn Cừ \n Tình trạng: Đang vận hành" },
        { "coord": [107.841030, 11.577076], "note": "Tên Trạm: 476/66/1 \n Công Suất: 1600kVA \n Địa chỉ: 407 Nguyễn Văn Cừ \n Tình trạng: Đang vận hành" },
        { "coord": [107.843051, 11.593793], "note": "Tên Trạm: 476/68/1 \n Công Suất: 3200kVA \n Địa chỉ: 415 Nguyễn Văn Cừ \n Tình trạng: Đang vận hành" },
        { "coord": [107.844215, 11.600832], "note": "Tên Trạm: 476/70/2 \n Công Suất: 3200kVA \n Địa chỉ: 505 Nguyễn Văn Cừ \n Tình trạng: Đang vận hành" },
        { "coord": [107.834201, 11.559359], "note": "Tên Trạm: 476/76/1 \n Công Suất: 320kVA \n Địa chỉ: 521 Nguyễn Văn Cừ \n Tình trạng: Đang vận hành" },
        { "coord": [107.839985, 11.577675], "note": "Tên Trạm: 476/80/1 \n Công Suất: 320kVA \n Địa chỉ: 601 Nguyễn Văn Cừ \n Tình trạng: Đang vận hành" },
        { "coord": [107.845250, 11.584416], "note": "Tên Trạm: 476/88/4 \n Công Suất: 1600kVA \n Địa chỉ: 615 Nguyễn Văn Cừ \n Tình trạng: Đang vận hành" },
        { "coord": [107.843381, 11.590534], "note": "Tên Trạm: 476/94/1 \n Công Suất: 3200kVA \n Địa chỉ: 631 Nguyễn Văn Cừ \n Tình trạng: Đang vận hành" },
        { "coord": [107.843381, 11.590534], "note": "Tên Trạm: 476/98/1 \n Công Suất: 3200kVA \n Địa chỉ: 645 Nguyễn Văn Cừ \n Tình trạng: Đang vận hành" },
        { "coord": [107.831479, 11.523676], "note": "Tên Trạm: 478/10/2 \n Công Suất: 320kVA \n Địa chỉ: 31 Trần Hưng Đạo \n Tình trạng: Đang vận hành" },
        { "coord": [107.830622, 11.526224], "note": "Tên Trạm: 478/14/1 \n Công Suất: 450kVA \n Địa chỉ: 25 Trần Hưng Đạo \n Tình trạng: Đang vận hành" },
        { "coord": [107.829321, 11.529447], "note": "Tên Trạm: 478/21/1 \n Công Suất: 320kVA \n Địa chỉ: 11 Trần Hưng Đạo \n Tình trạng: Đang vận hành" },
        { "coord": [107.830079, 11.531415], "note": "Tên Trạm: 478/23/1 \n Công Suất: 320kVA \n Địa chỉ: 311 Trần Phú \n Tình trạng: Đang vận hành" },
        { "coord": [107.835481, 11.529546], "note": "Tên Trạm: 478/30/1 \n Công Suất: 1600kVA \n Địa chỉ: 357 Trần Phú \n Tình trạng: Đang vận hành" },
        { "coord": [107.840700, 11.530182], "note": "Tên Trạm: 478/30/2 \n Công Suất: 3200kVA \n Địa chỉ: 401 Trần Phú \n Tình trạng: Đang vận hành" },
        { "coord": [107.848480, 11.531286], "note": "Tên Trạm: 478/35/1 \n Công Suất: 3200kVA \n Địa chỉ: 503 Trần Phú \n Tình trạng: Đang vận hành" },
        { "coord": [107.853163, 11.533469], "note": "Tên Trạm: 478/35/2 \n Công Suất: 450kVA \n Địa chỉ: 519 Trần Phú \n Tình trạng: Đang vận hành" },
        { "coord": [107.855715, 11.534598], "note": "Tên Trạm: 478/42/1 \n Công Suất: 320kVA \n Địa chỉ: 531 Trần Phú \n Tình trạng: Đang vận hành" },
        { "coord": [107.860245, 11.532123], "note": "Tên Trạm: 478/42/2 \n Công Suất: 320kVA \n Địa chỉ: 555 Trần Phú \n Tình trạng: Đang vận hành" },
        { "coord": [107.868144, 11.531219], "note": "Tên Trạm: 478/47/1 \n Công Suất: 320kVA \n Địa chỉ: 577Trần Phú \n Tình trạng: Đang vận hành" },
        { "coord": [107.872896, 11.532929], "note": "Tên Trạm: 478/47/2 \n Công Suất: 320kVA \n Địa chỉ: 589 Trần Phú \n Tình trạng: Đang vận hành" },
        { "coord": [107.873481, 11.527666], "note": "Tên Trạm: 478/49/1 \n Công Suất: 1600kVA \n Địa chỉ: 01 Đường Tránh Bảo Lộc \n Tình trạng: Đang vận hành" },
        { "coord": [107.873123, 11.523422], "note": "Tên Trạm: 478/50/3 \n Công Suất: 320kVA \n Địa chỉ: 02 Đường Tránh Bảo Lộc \n Tình trạng: Đang vận hành" },
        { "coord": [107.866888, 11.518795], "note": "Tên Trạm: 478/52/1 \n Công Suất: 320kVA \n Địa chỉ: 03 Đường Tránh Bảo Lộc \n Tình trạng: Đang vận hành" },
        { "coord": [107.860862, 11.516542], "note": "Tên Trạm: 478/56/2 \n Công Suất: 1600kVA \n Địa chỉ: 04 Đường Tránh Bảo Lộc \n Tình trạng: Đang vận hành" },
        { "coord": [107.859239, 11.519978], "note": "Tên Trạm: 478/57/1 \n Công Suất: 3200kVA \n Địa chỉ: 15 Âu Cơ \n Tình trạng: Đang vận hành" },
        { "coord": [107.858875, 11.522785], "note": "Tên Trạm: 478/57/4 \n Công Suất: 3200kVA \n Địa chỉ: 57/2 Âu Cơ \n Tình trạng: Đang vận hành" },
        { "coord": [107.859410, 11.525015], "note": "Tên Trạm: 478/59/1 \n Công Suất: 320kVA \n Địa chỉ: 57/12 Âu Cơ \n Tình trạng: Đang vận hành" },
        { "coord": [107.858067, 11.526609], "note": "Tên Trạm: 478/70/6 \n Công Suất: 320kVA \n Địa chỉ: 81 Cao Thắng \n Tình trạng: Đang vận hành" },
        { "coord": [107.857714, 11.529366], "note": "Tên Trạm: 478/86/1 \n Công Suất: 1600kVA \n Địa chỉ: 67 Cao Thắng \n Tình trạng: Đang vận hành" },
        { "coord": [107.857225, 11.530723], "note": "Tên Trạm: 478/90/1 \n Công Suất: 3200kVA \n Địa chỉ: 51 Cao Thắng \n Tình trạng: Đang vận hành" }
      ];
      const imageGraphics = imagePoints.map(item => new Graphic({
        geometry: {
          type: "point",
          longitude: item.coord[0],
          latitude: item.coord[1]
        },
        symbol: {
          type: "picture-marker",
          url: "image/tba.png",  
          width: "20px",
          height: "20px"
        },
        attributes: {
          note: item.note
        },
        popupTemplate: {
          title: "Thông tin Trạm biến áp",
          content: "{note}"  
        }
      }));

      view.graphics.addMany(imageGraphics);
      view.watch("scale", function(scale) {
  const size = calculateSizeByScale(scale);

  imageGraphics.forEach(graphic => {
    graphic.symbol.width = size;
    graphic.symbol.height = size;
  });

  view.graphics.removeMany(imageGraphics);
  view.graphics.addMany(imageGraphics);
});

function calculateSizeByScale(scale) {
  if (scale > 100000) return "20px";
  else if (scale > 50000) return "30px";
  else if (scale > 20000) return "40px";
  else return "50px";
}
      
    });
    function addLinesToMap() {
      const groups = ["Phường I", "Phường II", "Xã ĐamBri", "Phường Lộc Phát", "Phường Lộc Sơn", "Xã Lộc Nga", "Xã Lộc Thanh", "KCN Lộc Sơn", "472", "474", "476", "478", "480"];

      groups.forEach(group => {
        const groupPoints = points
          .filter(p => p.colorGroup === group)
          .map(p => [p.longitude, p.latitude]);

        if (groupPoints.length < 2) return;

        const polyline = {
          type: "polyline",
          paths: [groupPoints]
        };

        const lineSymbol = {
          type: "simple-line",
          color: markerSymbols[group].color,
          width: 2
        };

        const polylineGraphic = new Graphic({
          geometry: polyline,
          symbol: lineSymbol,
          attributes: { group },
          popupTemplate: {
            title: "Đường Dây: {group}",
             }
        });

        view.graphics.add(polylineGraphic);
      });
    }
function addPolygonsToMap() {
  const groups = ["Phường I", "Phường II", "Xã ĐamBri", "Phường Lộc Phát", "Phường Lộc Sơn", "Xã Lộc Nga", "Xã Lộc Thanh", "KCN Lộc Sơn"];

 
  const polygonNotes = {
    "Phường I": "Tổng công suất tiêu thụ: 15000KVA. Phường 1 nằm ở trung tâm thành phố Bảo Lộc, có vị trí địa lý: Phía đông giáp phường Lộc Phát và phường Lộc Sơn,Phía tây giáp Phường 2, Phía nam giáp phường B'Lao và phường Lộc Sơn, Phía bắc giáp phường Lộc Phát và xã Đamb'ri. Phường 1 có diện tích 4,33 km², dân số năm 2022 là 16.717 người,[2] mật độ dân số đạt 3.860 người/km².",
    "Phường II": "Tổng công suất tiêu thụ: 7500KVA. Phường 2 có vị trí địa lý: Phía đông giáp Phường 1, Phía tây giáp phường Lộc Tiến, Phía nam giáp phường B'Lao, Phía bắc giáp xã Đamb'ri. Phường 2 có diện tích 6,69 km², dân số năm 2022 là 28.653 người,[2] mật độ dân số đạt 4.282 người/km².",
    "Xã ĐamBri": "Tổng công suất tiêu thụ: 4500KVA. Xã Đamb'ri nằm ở phía bắc thành phố Bảo Lộc, có vị trí địa lý: Phía đông giáp phường Lộc Phát, Phía tây và phía bắc giáp huyện Bảo Lâm, Phía nam giáp Phường 1, Phường 2 và phường Lộc Tiến. Xã Đamb'ri có diện tích 33,10 km², dân số năm 2022 là 10.967 người[2] mật độ dân số đạt 331 người/km².",
    "Phường Lộc Phát": "Tổng công suất tiêu thụ: 9500KVA. Phường Lộc Phát có vị trí địa lý:Phía đông giáp xã Lộc Nga, Phía tây giáp phường B'Lao, Phía nam giáp phường Lộc Sơn, Phía bắc giáp xã Lộc Thanh. Phường Lộc Phát có diện tích 25,64 km², dân số năm 2022 là 23.519 người,[2] mật độ dân số đạt 917 người/km².",
    "Phường Lộc Sơn": "Tổng công suất tiêu thụ: 9500KVA. Phường Lộc Sơn có vị trí địa lý: Phía đông giáp xã Lộc Nga, Phía tây giáp phường B'Lao, Phía nam giáp huyện Bảo Lâm, Phía bắc giáp phường Lộc Phát. Phường Lộc Sơn có diện tích 12,20 km², dân số năm 2022 là 23.199 người,[2] mật độ dân số đạt 1.901 người/km².",
    "Xã Lộc Nga": "Tổng công suất tiêu thụ: 7500KVA. Xã Lộc Nga có vị trí địa lý: Phía đông và phía nam giáp huyện Bảo Lâm, Phía tây giáp phường Lộc Sơn, Phía bắc giáp xã Lộc Thanh. Xã Lộc Nga có diện tích 16,22 km², dân số năm 2022 là 12.382 người,[1] mật độ dân số đạt 763 người/km².",
    "Xã Lộc Thanh": "Tổng công suất tiêu thụ: 9000KVA. Xã Lộc Thanh có vị trí địa lý: Phía đông và phía bắc giáp huyện Bảo Lâm, Phía tây giáp phường Lộc Phát, Phía nam giáp phường Lộc Sơn và xã Lộc Nga. Xã Lộc Thanh có diện tích 21,49 km², dân số năm 2022 là 13.311 người,[1] mật độ dân số đạt 619 người/km².",
    "KCN Lộc Sơn": "Tổng công suất tiêu thụ: 4000KVA. Khu công nghiệp Lộc Sơn thuộc địa bàn Phường Lộc Sơn-TX Bảo Lộc-Tỉnh Lâm Đồng, KCN cách thị xã 3 km về phía Đông Nam, nằm cạnh các đầu mối giao thông chính. Phía Bắc có Quốc lộ 20 nối TP Hồ Chí Minh với Đà Lạt ; phía Tây là Quốc lộ 55 nối với các tỉnh Bình Thuận. KCN Lộc Sơn nằm ở trung tâm các vùng cây công nghiệp, chè, cà phê, dâu tằm, cây lương thực và công nghiệp khai khoáng bauxite, kaolin…Thu hút các dự án đầu tư thuộc nhóm ngành nghề: công nghiệp chế biến khoáng sản, công nghiệp sản xuất vật liệu xây dựng, công nghiệp chế biến nông lâm sản-thực phẩm, dệt may, cơ khí…."
       
        };

  groups.forEach(group => {
    const groupPoints = points
      .filter(p => p.colorGroup === group)
      .map(p => [p.longitude, p.latitude]);

    if (groupPoints.length < 3) return;

    if (groupPoints[0][0] !== groupPoints[groupPoints.length - 1][0] ||
        groupPoints[0][1] !== groupPoints[groupPoints.length - 1][1]) {
      groupPoints.push(groupPoints[0]);
    }

    const polygon = {
      type: "polygon",
      rings: [groupPoints]
    };

    const fillColor = markerSymbols[group].color;

    const polygonSymbol = {
      type: "simple-fill",
      color: [...fillColor, 0.2],
      outline: {
        color: fillColor,
        width: 1
      }
    };

   
    const centerCoord = groupPoints.reduce((acc, point) => {
      acc[0] += point[0];
      acc[1] += point[1];
      return acc;
    }, [0, 0]);
    centerCoord[0] /= groupPoints.length;
    centerCoord[1] /= groupPoints.length;

   
    const note = polygonNotes[group] || "Không có ghi chú.";

    const polygonGraphic = new Graphic({
      geometry: polygon,
      symbol: polygonSymbol,
      attributes: { group },
      popupTemplate: {
        title: "Phụ Tải: {group}",
        content: `
          <b>Thông tin:</b><br/>
          - Phụ tải: {group}<br/>
          - <b>Ghi chú:</b> ${note}
        `
      }
    });

    view.graphics.add(polygonGraphic);
  });
}

    addPointsToMap();
    addLinesToMap();
    addPolygonsToMap();

    });
    
    
  </script>
</body>
</html>